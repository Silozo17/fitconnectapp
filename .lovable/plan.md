
# Update BabyLoveGrowth Article Author & Remove Footer

## Changes Required

### 1. Change Author Name
**File:** `supabase/functions/sync-babylovegrowth/index.ts`

Update line 234 from:
```typescript
author: "BabyLoveGrowth AI",
```
To:
```typescript
author: "Amir Wanas",
```

---

### 2. Remove "Article generated by BabyLoveGrowth" Footer

The footer text comes embedded in the `content_html` from the BabyLoveGrowth API. We need to strip it out before saving to the database.

**File:** `supabase/functions/sync-babylovegrowth/index.ts`

Add a helper function to clean the content:
```typescript
function removeAttributionFooter(html: string): string {
  // Remove the BabyLoveGrowth attribution paragraph
  return html.replace(
    /<p>\s*<a[^>]*href="https?:\/\/(?:www\.)?babylovegrowth\.ai"[^>]*>Article generated by BabyLoveGrowth<\/a>\s*<\/p>/gi,
    ""
  );
}
```

Then apply it when building the blog post:
```typescript
const cleanedContent = removeAttributionFooter(contentHtml);

const blogPost = {
  // ...
  content: cleanedContent,
  // ...
};
```

---

### 3. Fix Existing Articles

The 2 articles already imported still have:
- Author: "BabyLoveGrowth AI"  
- The attribution footer in their content

We'll need a database migration to update them:
```sql
-- Update author for existing BabyLoveGrowth articles
UPDATE blog_posts 
SET author = 'Amir Wanas'
WHERE external_source = 'babylovegrowth';

-- Remove attribution footer from existing content
UPDATE blog_posts 
SET content = REGEXP_REPLACE(
  content, 
  '<p>\s*<a[^>]*href="https?://(?:www\.)?babylovegrowth\.ai"[^>]*>Article generated by BabyLoveGrowth</a>\s*</p>',
  '',
  'gi'
)
WHERE external_source = 'babylovegrowth';
```

---

## Summary

| Change | Location |
|--------|----------|
| Author name â†’ "Amir Wanas" | Edge function line 234 |
| Strip attribution footer | Edge function (new helper) |
| Fix existing articles | Database migration |

After these changes:
- All future imports will have author "Amir Wanas"
- All future imports will not have the BabyLoveGrowth footer
- The 2 existing articles will be updated to match
